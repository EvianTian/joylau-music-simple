<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>jQuery音乐播放器插件</title>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
<div id="example-wrapper">
    <ul id="example-size-picker">
        <li data-size="mobile">Mobile</li>
        <li data-size="large">Large</li>
        <li data-size="full">Full Screen</li>
    </ul>
    <div id="example-outer">
        <div id="example" data-size="full">

        </div>
    </div>
</div>
<script src="js/jquery.min.js"></script>
<script src="js/ttw-clarity-player.js"></script>
<script src="js/yepnope.js"></script>
<script src="js/background-blur.min.js"></script>
<script type="text/javascript">
    var clarity;
    $(function () {
        var myPlaylist = [];
        $.getJSON("http://music.joylau.cn/apis/v1/playList/detail/307243535", function (data) {
            $.each(data.result.tracks,function (i,e){
                myPlaylist.push({
                    mp3:'http://music.163.com/song/media/outer/url?id='+e.id,
                    duration:'3:49',
                    cover:e.album.picUrl+'?param=286y286',
                    background:e.album.picUrl,
                    title:e.name,
                    artist:e.artists[0].name,
                })
            });
            clarity = $('#example').ttwClarityPlayer(myPlaylist,{
                jPlayer:{
                    supplied:'mp3',
                    errorAlerts:true,
                    autoPlay:true,
                    warningAlerts:true,
                    consoleAlerts:true
                }
            });
        });
		$('#example-size-picker').on('click', 'li', function(){
            $('#example').attr('data-size', $(this).data('size'));
            clarity.manageLayout();
        });
    });
</script>
</body>
</html>